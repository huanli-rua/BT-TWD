DATA:
  dataset_name: "adult"
  raw_path: "../data/adult/adult.data"
  target_col: "income"
  positive_label: ">50K"
  use_kfold: true
  n_splits: 5
  shuffle: true
  stratify: true
  random_state: 42

PREPROCESS:
  continuous_cols:
    - "age"
    - "fnlwgt"
    - "education-num"
    - "capital-gain"
    - "capital-loss"
    - "hours-per-week"
  categorical_cols:
    - "workclass"
    - "education"
    - "marital-status"
    - "occupation"
    - "relationship"
    - "race"
    - "sex"
    - "native-country"
  handle_missing: "question_mark"
  fillna_strategy: "most_frequent"
  scale_continuous: true
  scaler_type: "standard"
  encoding_type: "onehot"
  drop_first: true
  save_feature_names: true

BTTWD:
  bucket_levels:
    - name: "L1_age"
      type: "numeric_bin"
      col: "age"
      bins: [25, 35, 50]             # (-inf,25], (25,35], (35,50], (50,inf)
      labels: ["young", "mid", "old", "very_old"]

    - name: "L2_education"
      type: "categorical_group"
      col: "education"
      groups:
        low:  ["Preschool", "1st-4th", "5th-6th", "7th-8th"]
        mid:  ["9th", "10th", "11th", "12th", "HS-grad"]
        high: ["Assoc-acdm", "Assoc-voc", "Some-college", "Bachelors"]
        top:  ["Masters", "Doctorate", "Prof-school"]
      default_group: "unknown"       # 没在上面这些里的，统一归到 unknown

    - name: "L3_hours"
      type: "numeric_bin"
      col: "hours-per-week"
      # 示例分法：<35 = 低工时，35-45 = 标准工作，>45 = 加班型
      bins: [35, 45]
      labels: ["low_hours", "normal_hours", "high_hours"]
  min_bucket_size: 200
  use_global_backoff: true
  global_estimator: "xgb"
  bucket_estimator: "knn"
  posterior_estimator: "logreg"
  logreg_C: 1.0
  knn_k: 10
  global_xgb:
    n_estimators: 300
    max_depth: 4
    learning_rate: 0.1
    subsample: 0.8
    colsample_bytree: 0.8
    reg_lambda: 1.0
    random_state: 42
    n_jobs: -1
  thresholds_mode: "bucket_wise"
  alpha_init: 0.6
  beta_init: 0.2
  optimize_thresholds: true
  threshold_objective: "F1"
  threshold_search_grid:
    alpha: [0.4,0.45, 0.5,0.55, 0.6,0.65, 0.7,0.75, 0.8,0.85, 0.9,0.95]
    beta:  [0.05,0.1,0.15, 0.2, 0.25, 0.3, 0.35, 0.4,0.45,0.5, 0.55, 0.6]

BASELINES:
  use_logreg: true
  use_random_forest: true
  use_knn: true
  use_xgboost: true
  logreg:
    C: 1.0
    max_iter: 500
  random_forest:
    n_estimators: 200
    max_depth: null
    random_state: 42

  knn:
    n_neighbors: 10

  xgboost:
    n_estimators: 300
    max_depth: 4
    learning_rate: 0.1
    subsample: 0.8
    colsample_bytree: 0.8
    reg_lambda: 1.0
    random_state: 42
    n_jobs: -1

EXP:
  kfold_repeats: 1
  n_jobs: -1
  verbose: 1

METRICS:
  use_metrics: ["Precision", "Recall", "F1", "BAC", "AUC", "MCC", "Kappa"]
  pos_label: 1

OUTPUT:
  results_dir: "results"
  figs_dir: "figs"
  save_per_fold_metrics: true
  save_bucket_metrics: true
  save_config_copy: true

SEED:
  global_seed: 42
