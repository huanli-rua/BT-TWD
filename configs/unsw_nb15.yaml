DATA:
  dataset_name: "UNSW_NB15"
  train_csv: "data/unsw/UNSW_NB15_training-set.csv"
  test_csv: "data/unsw/UNSW_NB15_testing-set.csv"
  sep: ","
  header: 0
  na_values: ["?", "NA", "NaN", ""]
  target_col: "label"
  positive_label: 1
  feature_cols: null
  drop_cols:
    - "id"
    - "attack_cat"
  categorical_cols:
    - "proto"
    - "service"
    - "state"
  target_transform: null
  use_kfold: true
  n_splits: 5
  shuffle: true
  random_state: 42

PREPROCESS:
  continuous_cols: null
  categorical_cols:
    - "proto"
    - "service"
    - "state"
  handle_missing: null
  fillna_strategy: "most_frequent"
  scale_continuous: true
  scaler_type: "standard"
  encoding_type: "onehot"
  drop_first: false
  save_feature_names: true
  drop_cols: []

BTTWD:
  bucket_levels:
    - name: "L1_proto"
      type: "categorical_group"
      col: "proto"
    - name: "L2_service"
      type: "categorical_group"
      col: "service"
  min_bucket_size: 5000
  min_pos_per_bucket: 50
  max_levels: 2
  use_gain: true
  min_gain_for_split: 0.005
  gamma_bucket: 0.05
  bucket_subsample: 0.7
  max_train_samples_per_bucket: 30000
  parent_share_rate: 0.0
  min_parent_share: 0
  val_ratio: 0.2
  min_val_samples_per_bucket: 50
  use_global_backoff: true
  bucket_estimator: "none"
  posterior_estimator: "logreg"
  global_estimator: "xgb"
  score_metric: "bac_regret"

MODEL:
  global_estimator: "xgb"
  use_bucket_local_model: false
  global_xgb:
    n_estimators: 400
    max_depth: 5
    learning_rate: 0.1
    subsample: 0.8
    colsample_bytree: 0.8
    reg_lambda: 1.0
    random_state: 42
    n_jobs: -1
  baselines:
    - "logreg"
    - "random_forest"
    - "knn"
    - "xgb"

BASELINES:
  common:
    threshold_mode: "fixed"
    fixed_threshold: 0.5
  logreg:
    C: 1.0
    max_iter: 300
    use_custom_threshold: true
    custom_threshold: 0.5
  random_forest:
    n_estimators: 300
    max_depth: null
    random_state: 42
    use_custom_threshold: true
    custom_threshold: 0.5
  knn:
    n_neighbors: 20
    use_custom_threshold: true
    custom_threshold: 0.5
  xgboost:
    n_estimators: 400
    max_depth: 5
    learning_rate: 0.1
    subsample: 0.8
    colsample_bytree: 0.8
    reg_lambda: 1.0
    random_state: 42
    n_jobs: -1
    use_custom_threshold: true
    custom_threshold: 0.5

THRESHOLDS:
  mode: "bucket_wise"
  costs:
    C_TP: 0.0
    C_TN: 0.0
    C_FP: 1.0
    C_FN: 5.0
    C_BP: 1.5
    C_BN: 1.0
  alpha_init: 0.6
  beta_init: 0.2
  search_grid_size: 50
  gap_min: 0.0
  min_samples_for_thresholds: 100

EXPERIMENT:
  use_kfold: true
  n_splits: 5
  random_state: 42
  shuffle: true

OUTPUT:
  results_dir: "results/unsw_nb15"
  figs_dir: "results/unsw_nb15/figs"
  logs_dir: "results/unsw_nb15/logs"
  save_per_fold_metrics: true
  save_bucket_metrics: true
  save_config_copy: true
  save_threshold_logs: true
  threshold_log_filename: "bucket_thresholds_per_fold.csv"

METRICS:
  use_metrics: ["Precision", "Recall", "F1", "BAC", "AUC", "MCC", "Kappa", "Regret", "BND_ratio", "POS_Coverage"]
  pos_label: 1

SEED:
  global_seed: 42
